#!/usr/bin/bash
################################
###### iDigitalFlame 2020 ######
#                              #
#            -/`               #
#            -yy-   :/`        #
#         ./-shho`:so`         #
#    .:- /syhhhh//hhs` `-`     #
#   :ys-:shhhhhhshhhh.:o- `    #
#   /yhsoshhhhhhhhhhhyho`:/.   #
#   `:yhyshhhhhhhhhhhhhh+hd:   #
#     :yssyhhhhhyhhhhhhhhdd:   #
#    .:.oyshhhyyyhhhhhhddd:    #
#    :o+hhhhhyssyhhdddmmd-     #
#     .+yhhhhyssshdmmddo.      #
#       `///yyysshd++`         #
#                              #
########## SPACEPORT ###########
################################
## Locker
#
# Copyright (C) 2020 iDigitalFlame
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.
#

KEYCOLOR="#$(openssl rand -hex 3)FF"

# Disable all fullscreen windows (messes with i3-lock).
/usr/bin/i3-msg "[workspace=__focused__] fullscreen disable" 2> /dev/null

# Lock
/usr/bin/i3lock \
-n \
--clock \
--indicator \
--composite \
--radius=100 \
--datestr "" \
--force-clock \
--time-align=0 \
--date-align=0 \
--ring-width=5 \
--veriftext="" \
--wrongtext="" \
--noinputtext="" \
--timestr="%H:%M" \
--color "#000000" \
--pointer=default \
--line-uses-inside \
--ringcolor="#FFFFFFFF" \
--ignore-empty-password \
--bshlcolor="#D23D3DFF" \
--timecolor="#FFFFFFFF" \
--datecolor="#FFFFFFFF" \
--verifcolor="#FFFFFFFF" \
--keyhlcolor="$KEYCOLOR" \
--insidecolor="#00000000" \
--ringvercolor="#E6DB74FF" \
--indpos="x+(w/2):y+(h/2)" \
--ringwrongcolor="#D23D3DFF" \
--separatorcolor="#00000000" \
--insidevercolor="#00000000" \
--insidewrongcolor="#00000000" \
--timepos="x+(w/2):y+(h/2)+150" \
--datepos="x+(w/2):y+(h/2)+170" \
--image "/home/iDigitalFlame/.cache/smd/lockscreen.png"
