#!/usr/bin/sh
################################
###### iDigitalFlame 2018 ######
#                              #
#            -/`               #
#            -yy-   :/`        #
#         ./-shho`:so`         #
#    .:- /syhhhh//hhs` `-`     #
#   :ys-:shhhhhhshhhh.:o- `    #
#   /yhsoshhhhhhhhhhhyho`:/.   #
#   `:yhyshhhhhhhhhhhhhh+hd:   #
#     :yssyhhhhhyhhhhhhhhdd:   #
#    .:.oyshhhyyyhhhhhhddd:    #
#    :o+hhhhhyssyhhdddmmd-     #
#     .+yhhhhyssshdmmddo.      #
#       `///yyysshd++`         #
#                              #
########## SPACEPORT ###########
################################
## Slack Auto Opener
# Opens all my Slack URLs set in my Slack Auto file.

SLACK_LIST="$HOME/.config/slack-auto.txt"

/usr/bin/python3 $HOME/.local/bin/i3/new.py 2> /dev/null

if [ $? -ne 0 ]; then
    printf "Failed to create new workspace!\n"
    exit 1
fi

/usr/bin/i3-msg layout tabbed 2> /dev/null

if [ $? -ne 0 ]; then
    printf "Failed to set workspace layout!\n"
    exit 1
fi

/usr/bin/sg iptables-web -c "for url in \$(cat $SLACK_LIST); do screen -dm sh -c \"export GTK_THEME=null; /usr/bin/surf -mDfIkPBSng -c ~/.config/slack-cookies.txt \$url\"; done"

exit 0

# EOF