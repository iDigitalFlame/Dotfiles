#!/usr/bin/false
################################
###### iDigitalFlame 2019 ######
#                              #
#            -/`               #
#            -yy-   :/`        #
#         ./-shho`:so`         #
#    .:- /syhhhh//hhs` `-`     #
#   :ys-:shhhhhhshhhh.:o- `    #
#   /yhsoshhhhhhhhhhhyho`:/.   #
#   `:yhyshhhhhhhhhhhhhh+hd:   #
#     :yssyhhhhhyhhhhhhhhdd:   #
#    .:.oyshhhyyyhhhhhhddd:    #
#    :o+hhhhhyssyhhdddmmd-     #
#     .+yhhhhyssshdmmddo.      #
#       `///yyysshd++`         #
#                              #
########## SPACEPORT ###########
################################
## Polybar Configuration
# iDigitalFlame

[global/wm]
margin-top                              = 0
margin-bottom                           = 0

[settings]
throttle-output                         = 5
throttle-output-for                     = 10
screenchange-reload                     = true

[theme]
include-file                            = $HOME/.config/theme/current/polybar.conf

[module/xwindow]
type                                    = internal/xwindow
label                                   = "%title%"
format                                  = "<label>"
label-maxlen                            = 120
label-padding                           = ${theme.padding-xwindow}
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
format-background                       = ${theme.color-xwindow}
format-foreground                       = ${theme.text}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}

[module/filesystem]
type                                    = internal/fs
mount-0                                 = /home
interval                                = 120
fixed-values                            = true
label-mounted                           = "%used% (%percentage_used%%) "
format-mounted                          = "<label-mounted>"
format-mounted-prefix                   = ${theme.prefix}
format-mounted-suffix                   = ${theme.suffix}
format-mounted-padding                  = ${theme.padding}
format-mounted-foreground               = ${theme.text}
format-mounted-background               = ${theme.color-storage}
format-mounted-prefix-foreground        = ${self.format-mounted-background}
format-mounted-prefix-background        = ${root.background}
format-mounted-suffix-foreground        = ${self.format-mounted-background}
format-mounted-suffix-background        = ${root.background}

[module/i3]
type                                    = internal/i3
format                                  = "<label-state>"
index-sort                              = true
enable-click                            = true
enable-scroll                           = true
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
label-padding                           = ${theme.padding}
pin-workspaces                          = false
wrapping-scroll                         = true
strip-wsnumbers                         = true
format-foreground                       = ${theme.color-i3}
format-background                       = ${theme.color-i3}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}
label-urgent                            = " %index%"
label-urgent-padding                    = ${theme.padding-i3}
label-urgent-foreground                 = ${theme.color-i3-urgent}
label-urgent-background                 = ${theme.color-i3}
label-visible                           = " %index%"
label-visible-padding                   = ${theme.padding-i3}
label-visible-foreground                = ${theme.color-i3-text}
label-visible-background                = ${theme.color-i3}
label-focused                           = " %index%"
label-focused-padding                   = ${theme.padding-i3}
label-focused-foreground                = ${theme.color-i3-text}
label-focused-background                = ${theme.color-i3}
label-unfocused                         = " %index%"
label-unfocused-padding                 = ${theme.padding-i3}
label-unfocused-foreground              = ${theme.color-i3-text}
label-unfocused-background              = ${theme.color-i3}

[module/cpu]
type                                    = internal/cpu
label                                   = "%percentage%% "
format                                  = "<label>"
interval                                = 1
label-padding                           = ${theme.padding}
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
format-background                       = ${theme.color-cpu}
format-foreground                       = ${theme.text}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}

[module/memory]
type                                    = internal/memory
format                                  = "<label>"
label                                   = "%gb_used% "
interval                                = 15
label-padding                           = ${theme.padding}
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
format-background                       = ${theme.color-memory}
format-foreground                       = ${theme.text}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}

[module/date]
date                                    = "%A"
type                                    = internal/date
time                                    = "%H:%M"
label                                   = "%date% %time%"
interval                                = 10
date-alt                                = "%a"
time-alt                                = "%H:%M"
label-padding                           = ${theme.padding}
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
format-background                       = ${theme.color-date}
format-foreground                       = ${theme.text}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}

[module/volume]
type                                    = internal/volume
label-muted                             = "Mute"
label-volume                            = "%percentage%%"
master-mixer                            = Master
format-muted                            = "<label-muted> "
ramp-volume-0                           = ""
ramp-volume-1                           = ""
ramp-volume-2                           = ""
format-volume                           = "<label-volume> <ramp-volume>"
master-soundcard                        = default
label-muted-padding                     = ${theme.padding}
format-muted-prefix                     = ${theme.prefix}
format-muted-suffix                     = ${theme.suffix}
format-muted-background                 = ${theme.color-volume}
format-muted-foreground                 = ${theme.text}
format-muted-prefix-foreground          = ${self.format-muted-background}
format-muted-prefix-background          = ${root.background}
format-muted-suffix-foreground          = ${self.format-muted-background}
format-muted-suffix-background          = ${root.background}
label-volume-padding                    = ${theme.padding}
format-volume-prefix                    = ${theme.prefix}
format-volume-suffix                    = ${theme.suffix}
format-volume-background                = ${theme.color-volume}
format-volume-foreground                = ${theme.text}
format-volume-prefix-foreground         = ${self.format-volume-background}
format-volume-prefix-background         = ${root.background}
format-volume-suffix-foreground         = ${self.format-volume-background}
format-volume-suffix-background         = ${root.background}

[module/battery]
type                                    = internal/battery
adapter                                 = AC
full-at                                 = 100
battery                                 = BAT0
time-format                             = "%H:%M"
label-full                              = "%percentage%% "
format-full                             = "<label-full>"
label-full-padding                      = ${theme.padding}
format-full-prefix                      = ${theme.prefix}
format-full-suffix                      = ${theme.suffix}
format-full-padding                     = ${theme.padding}
format-full-background                  = ${theme.color-battery-full}
format-full-foreground                  = ${theme.text}
format-full-prefix-foreground           = ${self.format-full-background}
format-full-prefix-background           = ${root.background}
format-full-suffix-foreground           = ${self.format-full-background}
format-full-suffix-background           = ${root.background}
label-charging                          = "%percentage%%"
format-charging                         = " <label-charging> <animation-charging>"
animation-charging-0                    = ""
animation-charging-1                    = ""
animation-charging-2                    = ""
format-charging-prefix                  = ${theme.prefix}
format-charging-suffix                  = ${theme.suffix}
format-charging-padding                 = ${theme.padding}
format-charging-background              = ${theme.color-battery-charging}
format-charging-foreground              = ${theme.text}
animation-charging-framerate            = 750
format-charging-prefix-foreground       = ${self.format-charging-background}
format-charging-prefix-background       = ${root.background}
format-charging-suffix-foreground       = ${self.format-charging-background}
format-charging-suffix-background       = ${root.background}
ramp-capacity-0                         = ""
ramp-capacity-1                         = ""
ramp-capacity-2                         = ""
ramp-capacity-3                         = ""
ramp-capacity-4                         = ""
label-discharging                       = "%time% %percentage%%"
format-discharging                      = "<label-discharging> <ramp-capacity>"
format-discharging-padding              = ${theme.padding}
format-discharging-background           = ${theme.color-battery-discharging}
format-discharging-foreground           = ${theme.text}
format-discharging-prefix               = ${theme.prefix}
format-discharging-suffix               = ${theme.suffix}
format-discharging-prefix-foreground    = ${self.format-discharging-background}
format-discharging-prefix-background    = ${root.background}
format-discharging-suffix-foreground    = ${self.format-discharging-background}
format-discharging-suffix-background    = ${root.background}

[module/lockerctl]
type                                    = custom/script
exec                                    = "$HOME/.local/bin/polybar/_getlockers"
format                                  = "<label>"
interval                                = 10
click-left                              = "$HOME/.local/bin/i3/locker"
click-right                             = "$HOME/.local/bin/i3/locker"
click-middle                            = "$HOME/.local/bin/i3/locker"
label-padding                           = ${theme.padding}
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
format-background                       = ${theme.color-lockers}
format-foreground                       = ${theme.text}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}

[module/rotatectl]
type                                    = custom/script
exec                                    = "$HOME/.local/bin/polybar/_getrotate"
format                                  = "<label>"
interval                                = 10
click-left                              = "rotatectl -t"
click-right                             = "rotatectl -t"
click-middle                            = "rotatectl -t"
label-padding                           = ${theme.padding}
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
format-background                       = ${theme.color-rotate}
format-foreground                       = ${theme.text}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}

[module/bluetooth]
type                                    = custom/script
exec                                    = "rfkill | grep bluetooth | grep -q "unblocked unblocked" && echo "
format                                  = "<label>"
interval                                = 10
click-left                              = "blue -d"
click-right                             = "blue -d"
click-middle                            = "blue -d"
label-padding                           = ${theme.padding}
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
format-background                       = ${theme.color-bluetooth}
format-foreground                       = ${theme.text}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}

[module/weather]
type                                    = custom/script
exec                                    = "$HOME/.local/bin/polybar/_getweather"
format                                  = "<label>"
interval                                = 600
label-font                              = 3
click-left                              = "$HOME/.local/bin/polybar/_getweather go"
click-right                             = "$HOME/.local/bin/polybar/_getweather go"
click-middle                            = "$HOME/.local/bin/polybar/_getweather go"
label-padding                           = ${theme.padding}
format-prefix                           = ${theme.prefix}
format-suffix                           = ${theme.suffix}
format-background                       = ${theme.color-weather}
format-foreground                       = ${theme.text}
format-prefix-foreground                = ${self.format-background}
format-prefix-background                = ${root.background}
format-suffix-foreground                = ${self.format-background}
format-suffix-background                = ${root.background}

[bar/small]
width                                   = 100%
radius                                  = 0
height                                  = 20
bottom                                  = false
font-1                                  = FontAwesome:size=10;2
font-0                                  = Sans:size=10;1
font-2                                  = Weather Icons:size=10;1
font-3                                  = 3270Medium Nerd Font:size=14;3
monitor                                 =
scroll-up                               = i3wm-wsnext
line-size                               = 0
line-color                              = ${theme.text}
foreground                              = ${theme.foreground}
background                              = ${theme.background}
scroll-down                             = i3wm-wsprev
border-size                             = 1
border-color                            = ${theme.background}
tray-padding                            = 1
fixed-center                            = true
padding-left                            = 0
modules-left                            =
padding-right                           = 0
modules-right                           = i3 rotatectl volume lockerctl memory cpu battery date
tray-position                           = right
tray-detached                           = false
modules-center                          =
tray-background                         = ${root.background}
tray-transparent                        = true
monitor-fallback                        = eDP1
module-margin-left                      = 0
module-margin-right                     = 0

[bar/standard]
width                                   = 100%
radius                                  = 0
height                                  = 20
bottom                                  = false
font-1                                  = FontAwesome:size=10;2
font-0                                  = Sans:size=10;1
font-2                                  = Weather Icons:size=10;1
font-3                                  = 3270Medium Nerd Font:size=14;3
monitor                                 =
scroll-up                               = i3wm-wsnext
line-size                               = 0
line-color                              = ${theme.text}
foreground                              = ${theme.foreground}
background                              = ${theme.background}
scroll-down                             = i3wm-wsprev
border-size                             = 1
border-color                            = ${theme.background}
tray-padding                            = 1
fixed-center                            = true
padding-left                            = 0
modules-left                            = xwindow
padding-right                           = 0
modules-right                           = i3 weather rotatectl bluetooth volume lockerctl filesystem memory cpu battery date
tray-position                           = right
tray-detached                           = false
modules-center                          =
tray-background                         = ${root.background}
tray-transparent                        = true
monitor-fallback                        = eDP1
module-margin-left                      = 0
module-margin-right                     = 0
