################################
###### iDigitalFlame 2018 ######
#                              #
#            -/`               #
#            -yy-   :/`        #
#         ./-shho`:so`         #
#    .:- /syhhhh//hhs` `-`     #
#   :ys-:shhhhhhshhhh.:o- `    #
#   /yhsoshhhhhhhhhhhyho`:/.   #
#   `:yhyshhhhhhhhhhhhhh+hd:   #
#     :yssyhhhhhyhhhhhhhhdd:   #
#    .:.oyshhhyyyhhhhhhddd:    #
#    :o+hhhhhyssyhhdddmmd-     #
#     .+yhhhhyssshdmmddo.      #
#       `///yyysshd++`         #
#                              #
########## SPACEPORT ###########
################################
## Polybar Configuration
# iDigitalFlame 2018

[global/wm]
margin-top                      = 0
margin-bottom                   = 0

[settings]
throttle-output                 = 5
throttle-output-for             = 10
screenchange-reload             = true

[theme]
include-file                    = $HOME/.config/theme/current/polybar-theme.conf

[module/xwindow]
type                            = internal/xwindow
label                           = %title%
label-maxlen                    = 60
label-overline                  = ${theme.clear}

[module/filesystem]
type                            = internal/fs
mount-0                         = /home
interval                        = 120
fixed-values                    = true
label-mounted                   = " %used% (%percentage_used%%)"
format-mounted                  = <label-mounted>
format-mounted-overline         = #FF00D8F1

[module/i3]
type                            = internal/i3
format                          = <label-state> <label-mode>
index-sort                      = true
enable-click                    = true
label-urgent                    = %index%
enable-scroll                   = true
label-visible                   = %index%
label-focused                   = %index%
pin-workspaces                  = false
wrapping-scroll                 = true
label-unfocused                 = %index%
label-mode-font                 = 0
label-urgent-font               = ${self.label-mode-font}
label-visable-font              = ${self.label-mode-font}
label-focused-font              = ${self.label-mode-font}
label-mode-padding              = 2
label-urgent-padding            = ${self.label-mode-padding}
label-mode-foreground           = ${theme.foreground}
label-mode-background           = ${root.background}
label-visible-padding           = ${self.label-mode-padding}
label-focused-padding           = ${self.label-mode-padding}
label-urgent-overline           = ${theme.workspace_underline_urgent}
label-urgent-underline          = ${theme.clear}
label-visible-overline          = ${self.label-focused-underline}
label-focused-overline          = ${theme.workspace_underline}
label-urgent-background         = ${self.label-mode-background}
label-focused-underline         = ${theme.clear}
label-visible-underline         = ${theme.clear}
label-unfocused-padding         = ${self.label-mode-padding}
label-focused-background        = ${self.label-mode-background}
label-visible-background        = ${self.label-focused-background}

[module/cpu]
type                            = internal/cpu
label                           = " %percentage%%"
interval                        = 1
format-overline                 = #FFEF3100
format-underline                = ${theme.clear}
format-prefix-foreground        = ${theme.foreground-alt}

[module/memory]
type                            = internal/memory
label                           = " %gb_used%"
interval                        = 15
format-overline                 = #FFFEB523
format-underline                = ${theme.clear}
format-prefix-foreground        = ${theme.foreground-alt}

[module/date]
date                            = %a
type                            = internal/date
time                            = %H:%M
label                           = %date% %time%
interval                        = 10
date-alt                        = %A %D
time-alt                        = %I:%M %p
format-overline                 = #FFFFFFFF
format-underline                = ${theme.clear}

[module/volume]
type                            = internal/volume
label-muted                     = "Mute "
label-volume                    = "%percentage%%"
master-mixer                    = Master
ramp-volume-0                   = ""
ramp-volume-1                   = ""
ramp-volume-2                   = ""
format-volume                   = <label-volume> <ramp-volume>
master-soundcard                = default
format-muted-overline           = #FFE57FCB
format-volume-overline          = #FFE57FCB
format-muted-underline          = ${theme.clear}
format-volume-underline         = ${theme.clear}
format-muted-foreground         = ${theme.foreground}

[module/battery]
type                            = internal/battery
adapter                         = AC
full-at                         = 100
battery                         = BAT0
label-full                      = "%percentage%% "
time-format                     = "%H:%M"
format-charging                 = "<label-charging> <animation-charging>"
ramp-capacity-0                 = ""
ramp-capacity-1                 = ""
ramp-capacity-2                 = ""
ramp-capacity-3                 = ""
ramp-capacity-4                 = ""
label-discharging               = "%time% %percentage%%"
format-discharging              = "<label-discharging> <ramp-capacity>"
animation-charging-0            = ""
animation-charging-1            = ""
animation-charging-2            = ""
format-full-overline            = #FF17FF0F
format-full-underline           = ${theme.clear}
format-charging-prefix          = " "
format-charging-overline        = #FFF6FE38
format-charging-underline       = ${theme.clear}
format-discharging-overline     = #FFC738FF
animation-charging-framerate    = 750
format-discharging-underline    = ${theme.clear}

[module/bluetooth]
type                            = custom/script
exec                            = "[ $(ls -l /sys/class/bluetooth | wc -l) -gt 1 ] && echo 'BE' || echo 'BD'"
format                          = <label>
interval                        = 30

[module/rotate]
type                            = custom/script
exec                            = "[[ $(cat /var/run/smd-rotate-lock.sock) -eq 1 ]] && echo '' || echo ''"
format                          = <label>
interval                        = 5
click-left                      = "/opt/spaceport/bin/powerctl rotate -t"
click-right                     = "/opt/spaceport/bin/powerctl rotate -t"
click-middle                    = "/opt/spaceport/bin/powerctl rotate -t"
label-overline                  = #FFFFF914

[module/lockerctl]
type                            = custom/script
exec                            = "$HOME/.local/bin/lockerlist"
format                          = <label>
interval                        = 10
label-overline                  = #FFDF3D69

[module/weather]
type                            = custom/script
exec                            = "$HOME/.local/bin/i3/weather"
format                          = <label>
interval                        = 600
label-font                      = 3
click-left                      = "$HOME/.local/bin/i3/weather go"
click-right                     = "$HOME/.local/bin/i3/weather go"
click-middle                    = "$HOME/.local/bin/i3/weather go"
label-overline                  = #FFFFF914

[bar/laptop]
monitor                         =
scroll-up                       = i3wm-wsnext
scroll-down                     = i3wm-wsprev
modules-left                    = i3 xwindow
include-file                    = $HOME/.config/theme/current/polybar-bar-laptop.conf
fixed-center                    = true
modules-right                   = weather volume lockerctl rotate filesystem memory cpu battery date
tray-detached                   = false
modules-center                  =
monitor-fallback                = eDP1
module-margin-left              = 1
module-margin-right             = 1

[bar/tablet]
monitor                         =
scroll-up                       = i3wm-wsnext
scroll-down                     = i3wm-wsprev
modules-left                    = i3
include-file                    = $HOME/.config/theme/current/polybar-bar-tablet.conf
fixed-center                    = true
modules-right                   = weather volume lockerctl rotate filesystem memory cpu battery date
tray-detached                   = false
modules-center                  =
monitor-fallback                = eDP1
module-margin-left              = 1
module-margin-right             = 1
